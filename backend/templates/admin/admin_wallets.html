{% extends 'base.html' %}
{% block content %}
<h2>Manage Payment Wallets</h2>
<a href="{{ url_for('core.admin_dashboard') }}" class="btn ghost">Back</a>

<div class="grid">
    {% for w in wallets %}
    <div class="card" style="text-align:left; position:relative;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
            <h3 style="margin:0;">{{ w.symbol }}</h3>
            <a href="{{ url_for('core.admin_delete_wallet', id=w.id) }}" 
               class="btn" 
               style="background:#ef4444; color:white; border:none; padding:5px 12px; font-size:0.8rem;"
               onclick="return confirm('Are you sure you want to delete this wallet?');">
               Delete
            </a>
        </div>

        <form method="POST" enctype="multipart/form-data">
            <input type="hidden" name="symbol" value="{{ w.symbol }}">
            
            <label>Wallet Address</label>
            <input type="text" name="address" value="{{ w.address }}" style="width:100%; margin-bottom:10px;">
            
            <label>Upload New QR Code</label>
            <input type="file" name="qr_file" style="margin-bottom:10px;">
            
            <button type="submit" class="btn primary" style="width:100%;">Update Wallet</button>
        </form>
    </div>
    {% endfor %}
    
    <div class="card" style="border:1px dashed #475569; display:flex; flex-direction:column; justify-content:center;">
        <h3 style="color:#94a3b8;">Add New Coin</h3>
        <form method="POST" enctype="multipart/form-data">
            <input type="text" name="symbol" placeholder="Symbol (e.g. BNB)" required style="margin-bottom:10px;">
            <input type="text" name="address" placeholder="Address" required style="margin-bottom:10px;">
            <button type="submit" class="btn" style="width:100%;">Create</button>
        </form>
    </div>
</div>
{% endblock %}